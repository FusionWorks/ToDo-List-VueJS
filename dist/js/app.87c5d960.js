(function(t){function e(e){for(var s,o,r=e[0],c=e[1],u=e[2],l=0,f=[];l<r.length;l++)o=r[l],a[o]&&f.push(a[o][0]),a[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},a={app:0},i=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2778:function(t,e,n){},2902:function(t,e,n){"use strict";var s=n("2778"),a=n.n(s);a.a},"3b1f":function(t,e,n){"use strict";var s=n("76f2"),a=n.n(s);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("router-view")],1)},i=[],o={created:function(){this.$store.dispatch("fetchData")}},r=o,c=(n("5c0b"),n("2877")),u=Object(c["a"])(r,a,i,!1,null,null,null),d=u.exports,l=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.epics&&t.epics.length?n("div",{staticClass:"container pt-5"},t._l(t.epics,function(e,s){return n("div",{key:s},[n("div",{staticClass:"card full-width"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"row align-items-center"},[n("div",{staticClass:"col"},[t._v(t._s(e.name))]),n("div",{staticClass:"col"},[n("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:function(n){return t.goToTaskList(e.id)}}},[t._v("View")])])])])])])}),0):t._e()},p=[],h={name:"Epics",methods:{goToTaskList:function(t){this.$router.push({name:"taskList",params:{epicId:t}})}},computed:{epics:function(){return this.$store.getters.getEpics}}},m=h,k=(n("a683"),Object(c["a"])(m,f,p,!1,null,null,null)),v=k.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},["error"===t.taskList?n("div",{staticClass:"d-flex flex-column align-items-center mt-5"},[n("h1",[t._v("You access non-existent Epic.")]),n("h3",[t._v("Please be sure you provide a correct address.")])]):n("div",[n("div",{staticClass:"input-group mt-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask,expression:"newTask"}],staticClass:"form-control",attrs:{type:"text",placeholder:"What you need to do?"},domProps:{value:t.newTask},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createNewTask()},input:function(e){e.target.composing||(t.newTask=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(e){return t.createNewTask()}}},[t._v("Add New Task")])]),t.showWorningModal?n("CustomModal",{on:{closeModal:function(e){return t.closeModal()}}},[n("h2",{staticClass:"text-light",attrs:{slot:"header"},slot:"header"},[t._v("Create New Task")]),n("span",{attrs:{slot:"body"},slot:"body"},[t._v('You need to provide a "Name" to the new task!')]),n("button",{staticClass:"btn btn-primary",attrs:{slot:"footer"},on:{click:function(e){return t.closeModal()}},slot:"footer"},[t._v("Ok")])]):t._e()],1),n("hr"),n("transition",{attrs:{name:"fade-span"}},[t.taskList&&t.taskList.length?t._e():n("span",[t._v("The Epic doesn't have the task. You can create one.")])]),n("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.taskList,function(e){return n("div",{key:e.id},[n("div",{staticClass:"card w-100"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"row align-items-center"},[n("div",{staticClass:"col",class:{"finished-task":e.task_finished}},[n("span",[t._v(t._s(e.name))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],attrs:{type:"text",hidden:!e.editing},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})]),n("div",{staticClass:"col d-flex justify-content-end"},[n("button",{staticClass:"btn btn-success ml-1",attrs:{type:"button",disabled:e.task_finished},on:{click:function(n){return t.finishTask(e.id)}}},[t._v(t._s(e.task_finished?"Finished":"Finish"))]),n("button",{staticClass:"btn btn-primary ml-1",attrs:{type:"button",disabled:e.task_finished},on:{click:function(n){return t.editTask(e.id,e.name)}}},[t._v("Edit")]),n("button",{staticClass:"btn btn-danger ml-1",attrs:{type:"button"},on:{click:function(n){return t.deleteTask(e.id)}}},[t._v("Delete")])])])])])])}),0),t.showEditModal?n("CustomModal",{on:{closeModal:function(e){return t.closeModal()}}},[n("h2",{staticClass:"text-light",attrs:{slot:"header"},slot:"header"},[t._v("Edit")]),n("div",{staticClass:"d-flex flex-column",attrs:{slot:"body"},slot:"body"},[n("span",{staticClass:"pb-2"},[t._v("Edit your task name!")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newNameForTask,expression:"newNameForTask"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newNameForTask},on:{input:function(e){e.target.composing||(t.newNameForTask=e.target.value)}}})]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.closeModal()}}},[t._v("Close")]),n("button",{staticClass:"btn btn-success ml-2",on:{click:function(e){return t.editTaskModal()}}},[t._v("Save")])])]):t._e()],1)])},T=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header bg-info"},[t._t("header",[t._v("default header")]),n("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.closeModal()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])],2),n("div",{staticClass:"modal-body"},[t._t("body",[t._v("default body")])],2),n("div",{staticClass:"modal-footer"},[t._t("footer",[t._v("\n            default footer\n            "),n("button",{staticClass:"modal-default-button",on:{click:function(e){return t.closeModal()}}},[t._v("OK")])])],2)])])])])},y=[],_={name:"CustomModal",methods:{closeModal:function(){this.$emit("closeModal")}}},w=_,C=(n("2902"),Object(c["a"])(w,g,y,!1,null,"2c3b689d",null)),E=C.exports,M={name:"TaskList",data:function(){return{epicId:"",newTask:null,showEditModal:!1,showWorningModal:!1,editingTaskId:null,newNameForTask:""}},components:{CustomModal:E},created:function(){this.epicId=this.checkEpicId(this.$route.params.epicId)},beforeRouteUpdate:function(t,e,n){this.epicId=this.checkEpicId(t.params.epicId),n()},computed:{taskList:function(){return this.$store.getters.getTaskListById(this.epicId)}},methods:{checkEpicId:function(t){return/^[0-9]+$/.test(t)?"number"!==typeof t?parseInt(t,10):t:null},createNewTask:function(){this.newTask?(this.$store.commit("createNewTask",{name:this.newTask,id:this.epicId}),this.newTask=""):this.showWorningModal=!0},editTask:function(t,e){this.editingTaskId=t,this.newNameForTask=e,this.showEditModal=!0},deleteTask:function(t){this.$store.commit("deleteTask",t)},finishTask:function(t){this.$store.commit("finishTask",t)},closeModal:function(){this.showEditModal=!1,this.showWorningModal=!1},editTaskModal:function(){this.$store.commit("editTask",{name:this.newNameForTask,id:this.editingTaskId}),this.showEditModal=!1}}},L=M,x=(n("3b1f"),Object(c["a"])(L,b,T,!1,null,"dfc7d216",null)),I=x.exports;s["a"].use(l["a"]);var j=new l["a"]({mode:"hash",base:"/",routes:[{path:"/",name:"task",component:v},{path:"/task/:epicId",name:"taskList",component:I}]}),O=(n("20d6"),n("7f7f"),n("75fc")),N=(n("6762"),n("2fdb"),n("7514"),n("2f62"));s["a"].use(N["a"]);var $=new N["a"].Store({state:{epics:{data:[],done:!1,error:null},taskList:{data:[],done:!1,error:null}},getters:{getEpics:function(t){return t.epics.done&&!t.epics.error?t.epics.data:null},getEpicTasksById:function(t,e){return function(t){var n=e.getEpics?e.getEpics:null,s=n?n.find(function(e){return e.id===t}):null;return"undefined"!==typeof s&&t?s?s.tasks:null:"error"}},getTaskListById:function(t,e){return function(n){if("error"===e.getEpicTasksById(n))return"error";var s=e.getEpicTasksById(n)?e.getEpicTasksById(n):null;return s&&t.taskList.done?t.taskList.data.filter(function(t){return s.includes(t.id)}):null}}},mutations:{setEpicsSuccess:function(t,e){t.epics={data:Object(O["a"])(e),done:!0}},setEpicsError:function(t,e){t.epics={done:!0,error:e}},setTaskListSuccess:function(t,e){t.taskList={data:Object(O["a"])(e),done:!0}},setTaskListError:function(t,e){t.taskList={done:!0,error:e}},createNewTask:function(t,e){var n=e.name,s=e.id,a=t.taskList.data.map(function(t){return t.id}),i=Math.max.apply(Math,Object(O["a"])(a))+1,o=t.epics.data.find(function(t){return t.id===s});o.tasks=[].concat(Object(O["a"])(o.tasks),[i]),t.taskList.data=[{name:n,id:i,task_finished:!1}].concat(Object(O["a"])(t.taskList.data))},editTask:function(t,e){var n=e.name,s=e.id,a=t.taskList.data.find(function(t){return t.id===s});a.name=n},deleteTask:function(t,e){var n=t.taskList.data.findIndex(function(t){return t.id===e});t.taskList.data.splice(n,1)},finishTask:function(t,e){var n=t.taskList.data.find(function(t){return t.id===e});n.task_finished=!0}},actions:{fetchData:function(t){var e=t.dispatch;e("fetchEpics"),e("fetchTaskList")},fetchEpics:function(t){var e=t.commit;fetch("/epics.json").then(function(t){return t.json()}).then(function(t){return e("setEpicsSuccess",t)}).catch(function(t){return e("setEpicsError",t)})},fetchTaskList:function(t){var e=t.commit;fetch("/task-list.json").then(function(t){return t.json()}).then(function(t){return e("setTaskListSuccess",t)}).catch(function(t){return e("setTaskListError",t)})}}});s["a"].config.productionTip=!1,new s["a"]({router:j,store:$,render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var s=n("5e27"),a=n.n(s);a.a},"5e27":function(t,e,n){},"75b8":function(t,e,n){},"76f2":function(t,e,n){},a683:function(t,e,n){"use strict";var s=n("75b8"),a=n.n(s);a.a}});
//# sourceMappingURL=app.87c5d960.js.map